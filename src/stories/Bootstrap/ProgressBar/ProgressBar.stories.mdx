import { Story, Canvas, ArgsTable, Meta, Stories } from '@storybook/addon-docs';

import { ProgressBar } from '../../../components';
import * as stories from './ProgressBar.stories.jsx';

export const variants = ['success', 'danger', 'warning', 'info'];

export const defaultProps = {
  animated: false,
  isChild: false,
  max: 100,
  min: 0,
  striped: false,
  visuallyHidden: false,
};

<Meta
    title="Bootstrap/Components/ProgressBar"
    argTypes={{
      animated: {
        control: 'boolean',
        description: "Animate's the stripes from right to left",
        table: {
          defaultValue: {
            summary: false,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      children: {
        description: 'Child elements (only allows elements of type)',
        table: {
          defaultValue: {
            summary: undefined,
          },
          type: {
            summary: 'onlyProgressBar',
          },
        },
      },
      isChild: {
        control: 'boolean',
        table: {
          defaultValue: {
            summary: false,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      label: {
        control: 'text',
        description: 'Show label that represents visual percentage. EG. 60%',
        table: {
          defaultValue: {
            summary: undefined,
          },
          type: {
            summary: 'node',
          },
        },
      },
      max: {
        control: 'number',
        description: 'Maximum value progress can reach',
        table: {
          defaultValue: {
            summary: 100,
          },
          type: {
            summary: 'number',
          },
        },
      },
      min: {
        control: 'number',
        description: 'Minimum value progress can begin from',
        table: {
          defaultValue: {
            summary: 0,
          },
          type: {
            summary: 'number',
          },
        },
      },
      now: {
        control: 'number',
        description: 'Current value of progress',
        table: {
          defaultValue: {
            summary: undefined,
          },
          type: {
            summary: 'number',
          },
        },
      },
      striped: {
        control: 'boolean',
        description: 'Uses a gradient to create a striped effect.',
        table: {
          defaultValue: {
            summary: false,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      variant: {
        options: variants,
        control: 'radio',
        description: 'Sets the background class of the progress bar.',
        table: {
          defaultValue: {
            summary: undefined,
          },
          type: {
            summary: variants.join(' | '),
          },
        },
      },
      visuallyHidden: {
        control: 'boolean',
        description: "Hide's the label visually.",
        table: {
          defaultValue: {
            summary: false,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
    }}
    component={ProgressBar}
/>

export const Template = (args) => <ProgressBar {...args} />;

## ProgressBar

Provide up-to-date feedback on the progress of a workflow or action with simple yet flexible progress bars.

### Example

Default progress bar.

<Canvas>
    <Story
        name="Demo"
        args={{
            max: 100,
            now: 60,
        }}>
        {Template.bind({})}
    </Story>
</Canvas>

<ArgsTable story="Demo" />

### With label

Add a `label` prop to show a visible percentage. For low percentages, consider adding a min-width to ensure the label's text is fully visible.

Add a `visuallyHidden` prop to hide the label visually.

<Canvas>
    <Story name="Label" story={stories.Label} />
</Canvas>

### Contextual alternatives

Progress bars use some of the same button and alert classes for consistent styles.

<Canvas>
    <Story name="ContextualAlternatives" story={stories.ContextualAlternatives} />
</Canvas>

### Striped

Uses a gradient to create a striped effect.

<Canvas>
    <Story name="Striped" story={stories.Striped} />
</Canvas>

### Animated

Add `animated` prop to animate the stripes right to left.

<Canvas>
    <Story name="Animated" story={stories.Animated} />
</Canvas>

### Stacked

Nest `<ProgressBar />`s to stack them.

<Canvas>
    <Story name="Stacked" story={stories.Stacked} />
</Canvas>
