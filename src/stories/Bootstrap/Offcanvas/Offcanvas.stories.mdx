<!-- Offcanvas.mdx -->
import { Meta, ArgsTable, Canvas, Story } from '@storybook/addon-docs';
import  { Offcanvas, Button } from '../../../components';
import * as stories from './Offcanvas.stories.jsx';

<Meta
    title="Bootstrap/Components/Offcanvas"
    argTypes={{
      autoFocus: {
        description: `When true The offcanvas will automatically shift focus to itself when it opens,
                and replace it to the last focused element when it closes. Generally this should never be set
                to false as it makes the offcanvas less accessible to assistive technologies, like screen-readers.`,
        control: 'boolean',
        table: {
          defaultValue: {
            summary: true,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      backdrop: {
        description: 'Include a backdrop component.',
        control: 'boolean',
        table: {
          defaultValue: {
            summary: true,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      backdropClassName: {
        description: 'Add an optional extra class name to .offcanvas-backdrop.',
        control: 'text',
        table: {
          type: {
            summary: 'string',
          },
        },
      },
      enforceFocus: {
        description: `When true The offcanvas will prevent focus from leaving the offcanvas while open.
                Consider leaving the default value here, as it is necessary to make the offcanvas work well with
                assistive technologies, such as screen readers.`,
        control: 'boolean',
        table: {
          defaultValue: {
            summary: true,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      onEnter: {
        description: 'Callback fired before the offcanvas transitions in',
        action: 'enter',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onEntered: {
        description: 'Callback fired after the offcanvas finishes transitioning in',
        action: 'entered',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onEntering: {
        description: 'Callback fired as the offcanvas begins to transition in',
        action: 'entering',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onEscapeKeyDown: {
        description: 'A callback fired when the escape key, if specified in keyboard, is pressed.',
        action: 'escapeKeyDown',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onExit: {
        description: 'Callback fired right before the offcanvas transitions out',
        action: 'exit',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onExited: {
        description: 'Callback fired after the offcanvas finishes transitioning out',
        action: 'exited',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onExiting: {
        description: 'Callback fired as the offcanvas begins to transition out',
        action: 'exiting',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onHide: {
        description:
          'A callback fired when the header closeButton or backdrop is clicked. Required if either are specified.',
        action: 'hide',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      onShow: {
        description: 'A callback fired when the offcanvas is opening.',
        action: 'show',
        table: {
          type: {
            summary: 'func',
          },
        },
      },
      placement: {
        description: 'Which side of the viewport the offcanvas will appear from.',
        options: ['start', 'end', 'top', 'bottom'],
        control: { type: 'select' },
        table: {
          defaultValue: {
            summary: 'start',
          },
          type: {
            summary: "'start' | 'end' | 'top' | 'bottom'",
          },
        },
      },
      restoreFocus: {
        description: `When true The offcanvas will restore focus to previously
                        focused element once offcanvas is hidden`,
        control: 'boolean',
        table: {
          defaultValue: {
            summary: true,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      restoreFocusOptions: {
        description: 'Options passed to focus function when restoreFocus is set to true',
        control: 'text',
        table: {
          type: {
            summary: 'shape',
          },
        },
      },
      scroll: {
        description: 'Allow body scrolling while offcanvas is open.',
        control: 'boolean',
        table: {
          defaultValue: {
            summary: false,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
      show: {
        description: 'When true The offcanvas will show itself.',
        control: 'boolean',
        table: {
          defaultValue: {
            summary: false,
          },
          type: {
            summary: 'boolean',
          },
        },
      },
    }}
    component={ Offcanvas }
/>

export const OffcanvasTemplate = (args) => <Offcanvas {...args} />;

# Offcanvas
Build hidden sidebars into your project for navigation, shopping carts, and more.

## Examples
Offcanvas includes support for a header with a close button and an optional body class for some initial padding.
We suggest that you include offcanvas headers with dismiss actions whenever possible, or provide an explicit dismiss action.

### Placement
Offcanvas supports a few different placements:
1. ```start``` places offcanvas on the left of the viewport
2. ```end``` places offcanvas on the right of the viewport
3. ```top``` places offcanvas on the top of the viewport
4. ```bottom``` places offcanvas on the bottom of the viewport

<Canvas>
    <Story name="StartPlacement" story={stories.StartPlacement} />
    <Story name="EndPlacement" story={stories.EndPlacement} />
    <Story name="TopPlacement" story={stories.TopPlacement} />
    <Story name="BottomPlacement" story={stories.BottomPlacement} />
</Canvas>

### Backdrop
Scrolling the ```<body>``` element is disabled when an offcanvas and its backdrop are visible.
Use the ```scroll``` prop to toggle ```<body>``` scrolling and the ```backdrop``` prop to toggle the backdrop.

<Canvas>
    <Story name="EnableBackdrop" story={stories.EnableBackdrop} />
    <Story name="DisableBackdrop" story={stories.DisableBackdrop} />
    <Story name="EnableScrolling" story={stories.EnableScrolling} />
    <Story name="EnableScrollingBackdrop" story={stories.EnableScrollingBackdrop} />
</Canvas>

## Demo

<Canvas>
    <Story name="Demo"
           args={{
               scroll: true,
               placement: 'top',
           }}>
        {(args) => {
            const [show, setShow] = React.useState(false);
            return (
                <>
                    <Button variant="primary" onClick={() => setShow(true)}>
                        Launch
                    </Button>
                    <Offcanvas {...args} show={show} onHide={() => setShow(false)}>
                        <Offcanvas.Header closeButton>
                            <Offcanvas.Title>Offcanvas</Offcanvas.Title>
                        </Offcanvas.Header>
                        <Offcanvas.Body>
                            Some text as placeholder. In real life you can have the elements you
                            have chosen. Like, text, images, lists, etc.
                        </Offcanvas.Body>
                    </Offcanvas>
                </>
            );
        }}
    </Story>
</Canvas>

<ArgsTable story="Demo" />
