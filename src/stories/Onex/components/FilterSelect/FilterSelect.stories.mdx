import { Story, Canvas, ArgsTable, Meta } from '@storybook/addon-docs';

import { FilterSelect } from '../../../../components';

<Meta
  title="Onex/Components/FilterSelect"
  argTypes={{
    className: {
      description: 'Override or extend the styles applied to the component.',
      table: {
        defaultValue: {
          summary: 'undefined',
        },
      },
    },
    size: {
      description: 'The size of the component',
    },
    dataTestId: {
      description: 'The id of the component for test',
      table: {
        defaultValue: {
          summary: 'undefined',
        },
      },
    },
    options: {
      description: "The array of select's options.",
      table: {
        defaultValue: {
          summary: 'undefined',
        },
        type: {
          summary:
            'Array({ value: string | number, label: string | number, subLabel: string | number })',
        },
      },
    },
    groupedOptions: {
      description: "The array of select's options with group.",
      table: {
        defaultValue: {
          summary: 'undefined',
        },
        type: {
          summary:
            'Array({ label: string, options: Array({ value: string | number, label: string | number, subLabel: string | number })})',
        },
      },
    },
    isMulti: {
      description: 'The option to select several values',
      table: {
        defaultValue: {
          summary: 'undefined',
        },
      },
    },
    disabled: {
      description: 'The component is disabled if the value is true',
      table: {
        defaultValue: {
          summary: 'undefined',
        },
      },
    },
    selectedValues: {
      description: 'The array of selected values',
      table: {
        defaultValue: {
          summary: 'undefined',
        },
        type: {
          summary: 'Array({ value: string | number, label: string | number })',
        },
      },
    },
    label: {
      description: 'The filter label(name).',
    },
    isAsync: {
      description: 'If the value is true the async search select is shown',
      table: {
        defaultValue: {
          summary: 'false',
        },
      },
    },
    onSelect: {
      description: 'Callback fired when the option is select.',
    },
    onLoadOptions: { description: 'Async function which returns array of options' },
    getOptionValue: {
      description: 'Function returns the value of selected option in async Select',
    },
    getOptionLabel: {
      description: 'Function returns the label of selected option in async Select',
    },
  }}
  component={FilterSelect}
  decorators={[
    (Story) => (
      <div style={{ width: '15rem', paddingLeft:'1rem' }}>
        <Story />
      </div>
    ),
  ]}
/>

export const Template = (args) => <FilterSelect {...args} />;

## FilterSelect

Start by installing <code>react-select</code>

<code>yarn add react-select</code>

Full information you can read on official documentation: <a href="https://react-select.com/home" target="_blank" rel="noreferrer">react select docs</a>

The filter select component allows users to choose single or multiple options from a list.

### FilterSelect details

<Canvas>
  <Story
    name="Demo"
    padding="10px"
    height="40rem"
    args={{
      label: 'Study',
      size: 'md',
      className: 'filter-select-demo',
      dataTestId: 'filter-select-demo',
      groupedOptions: [
        {
          label: 'AstraZeneca',
          options: [
            {
              value: 'ClinicalEvaluation',
              label: 'Clinical and Radiological Evaluation of Patients With test test',
            },
            {
              value: 'CulinaryMedicine',
              label: 'Culinary Medicine vs. Nutrition Education in Diabetes test test',
            },
          ],
        },
        {
          label: 'Moderna',
          options: [
            {
              value: 'EffectAstaxanthin',
              label: 'Effect of Astaxanthin on the Patients With Alzheimer Test test test',
            },
            {
              value: 'EffectivenessKinesio',
              label: 'Effectiveness of Kinesio Tapping for the Treatment of',
            },
            { value: 'ExerciseViral', label: 'Exercise and Total Viral Immunity' },
          ],
        },
        {
          label: 'Pfizer',
          options: [
            {
              value: 'MinimallyInvasive',
              label: 'Minimally Invasive Surgical Epilepsy Trial for Temporal Test test',
            },
            {
              value: 'ProbioticStreptococcus',
              label: 'Probiotic Streptococcus Salivarius K12',
            },
          ],
        },
      ],
      isMulti: true,
      selectedValues: [],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Demo" />

### FilterSelect sizes

<Canvas>
  <Story
    name="Small"
    height="28rem"
    args={{
      label:'Country',
      size: 'sm',
      className: 'filter-select-small',
      dataTestId: 'filter-select-test-id',
      options: [
        { value: 'albania', label: 'Albania' },
        { value: 'belgium', label: 'Belgium' },
        { value: 'canada', label: 'Canada' },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Medium"
    height="28rem"
    args={{
      label:'Country',
      size: 'md',
      className: 'filter-select-medium',
      dataTestId: 'filter-select-test-id',
      options: [
        { value: 'albania', label: 'Albania' },
        { value: 'belgium', label: 'Belgium' },
        { value: 'canada', label: 'Canada' },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>


### Multi FilterSelect

<Canvas>
  <Story
    name="Multi"
    height="28rem"
    args={{
      label:'Country',
      isMulti: true,
      size: 'md',
      className: 'filter-select-small',
      dataTestId: 'filter-select-test-id',
      options: [
        { value: 'albania', label: 'Albania' },
        { value: 'belgium', label: 'Belgium' },
        { value: 'canada', label: 'Canada' },
        {value: 'brazil', label:'Brazil' },
        {value: 'bulgaria', label:'Bulgaria' }
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### FilterSelect with grouped options. If you need options divided into groups, you should use "gropedOptions" property.

<Canvas>
  <Story
    name="Grouped"
    height="35rem"
    args={{
      label:'Country',
      isMulti: true,
      size: 'md',
      className: 'filter-select-small',
      dataTestId: 'filter-select-test-id',
      groupedOptions: [
        {
          label: 'Europe',
          options: [
            { value: 'belgium', label: 'Belgium' },
            { value: 'germany', label: 'Germany' },
            { value: 'france', label: 'France' },
            { value: 'poland', label: 'Poland' },
          ]
        },
        {
          label: 'Asia',
          options: [
            { value: 'japan', label: 'Japan' },
            { value: 'china', label: 'China' },
            { value: 'india', label: 'India' },
            { value: 'singapore', label: 'Singapore' },
          ]
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Disabled FilterSelect

<Canvas>
  <Story
    name="Disabled"
    height="28rem"
    args={{
      label:'Country',
      size: 'sm',
      disabled: true,
      className: 'filter-select-small',
      dataTestId: 'filter-select-test-id',
      options: [
        { value: 'albania', label: 'Albania' },
        { value: 'belgium', label: 'Belgium' },
        { value: 'canada', label: 'Canada' },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="DisabledSelected"
    height="28rem"
    args={{
      label:'Country',
      size: 'md',
      disabled: true,
      className: 'filter-select-medium',
      dataTestId: 'filter-select-test-id',
      selectedValues: [
        { value: 'albania', label: 'Albania' },
      ],
      options: [
        { value: 'albania', label: 'Albania' },
        { value: 'belgium', label: 'Belgium' },
        { value: 'canada', label: 'Canada' },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>


