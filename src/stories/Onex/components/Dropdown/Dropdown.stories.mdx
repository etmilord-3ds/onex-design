<!-- Dropdown.mdx -->
import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs';
import { Dropdown, Icon } from '../../../../components';

export const dropdownItems = [
{ eventKey: 'one', title: 'item one' },
{ eventKey: 'two', title: 'item two' },
{ eventKey: 'three', title: 'item three' },
{ eventKey: 'four', title: 'item four' },
];

export const dropdownItemsWithDivider = [
{ eventKey: 'one', title: 'item one' },
{ eventKey: 'two', title: 'item two' },
{ eventKey: 'three', title: 'item three' },
{ eventKey: 'four', title: 'item four', hasDividerAfter: true },
{ eventKey: 'five', title: 'item five' },
{ eventKey: 'six', title: 'item six' },
];

export const icons = { StarRoundedIcon: <Icon>star</Icon>, StarsRoundedIcon: <Icon>stars</Icon>, remove: undefined };

<Meta
  title="Onex/Components/Dropdown"
  argTypes={{
    align: {
      description: 'Aligns the dropdown menu to the specified side of the container',
    },
    buttonStyle: {
      description: 'Defines the dropdown display style: text or icon',
    },
    className: {
      description: 'Name of the CSS class',
      control: 'text',
    },
    dataTestId: {
      description: 'Id of the component for testing',
    },
    disabled: {
      description: 'Disables the Dropdown, preventing mouse events',
      control: 'boolean',
    },
    id: {
      description: 'An html id attribute for the Toggle button,',
      control: 'text',
    },
    items: {
      description: `Array of menu items. Each item contain:
                           \n1.title* - content of menu item;
                           \n2.hasDividerAfter - create divider after menu item;
                           \n3.active - highlight the menu item as active;
                           \n4.disabled - disable the menu item, making it unselectable;
                           \n5.eventKey - value passed to the onSelect handler, useful for identifying the selected menu item;
                           \n6.href - HTML href attribute corresponding to a.href.`,
    },
    onSelect: { action: 'select' },
    size: {
      description: 'Specifies a medium or small dropdown',
    },
    title: {
      description: 'The content of the non-toggle Button, can be text or icon label',
      control: 'text',
    },
    variant: {
      description: 'Non-toggle button variation',
    },
    leadingIcon: {
      description: 'Element placed before the children.',
      options: Object.keys(icons),
      mapping: icons,
      control: {
        type: 'select',
        labels: {
          StarRoundedIcon: 'Star',
          StarsRoundedIcon: 'Star in round',
          remove: 'Remove icon'
        },
      },
      table: {
        defaultValue: {
          summary: 'undefined',
        },
      },
    },
    isSearchable: {
      description: 'Show Search input in menu',
    },
    hideDefaultIcon: {
      description: 'Hide chevron icon',
    },
  }}
  component={Dropdown}
/>

export const DropdownTemplate = (args) => <Dropdown {...args} />;

# Dropdown
A dropdown menu displays a list of actions to take.

## Demo
<Canvas>
  <Story
    height="16rem"
    name="Demo"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      align: 'start',
      buttonStyle: 'text',
      className: 'custom-dropdown',
      dataTestId: 'test-dropdown-id',
      disabled: false,
      id: 'dropdown-demo',
      items: [
        { eventKey: 'one', title: 'item one' },
        { eventKey: 'two', title: 'item two', disabled: true },
        { eventKey: 'three', title: 'item three', href: '#' },
        { eventKey: 'four', title: 'item four' },
        { eventKey: 'five', title: 'item five' },
      ],
      size: 'sm',
      title: 'Dropdown demo',
      variant: 'primary',
      onSelect: () => {},
    }}>
    >
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Demo" />

## Style

### Sizes

Supports two dropdown sizes: ```small``` and  ```medium```.

<Canvas>
  <Story
    height="15rem"
    name="Small"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      title: 'Small dropdown',
      id: 'small-dropdown',
      items: dropdownItems,
      size: 'sm',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="Medium"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      title: 'Medium dropdown',
      id: 'medium-dropdown',
      items: dropdownItems,
      size: 'md',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

### Variations

#### Primary
##### Small size
<Canvas>
  <Story
    height="15rem"
    name="PrimarySmall"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      title: 'Label',
      id: 'primary-small-dropdown',
      items: dropdownItems,
      size: 'sm',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="PrimarySmallDisabled"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      title: 'Label',
      id: 'primary-small-disabled-dropdown',
      items: dropdownItems,
      size: 'sm',
      disabled: true,
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

##### Medium size
<Canvas>
  <Story
    height="15rem"
    name="PrimaryMedium"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      title: 'Label',
      id: 'primary-medium-dropdown',
      items: dropdownItems,
      size: 'md',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="PrimaryMediumDisabled"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      title: 'Label',
      id: 'primary-medium-disabled-dropdown',
      items: dropdownItems,
      size: 'md',
      disabled: true,
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

#### Secondary
##### Small size
<Canvas>
  <Story
    height="15rem"
    name="SecondarySmall"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'secondary',
      title: 'Label',
      id: 'secondary-small-dropdown',
      items: dropdownItems,
      size: 'sm',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="SecondarySmallDisabled"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'secondary',
      title: 'Label',
      id: 'secondary-small-disabled-dropdown',
      items: dropdownItems,
      size: 'sm',
      disabled: true,
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

##### Medium size
<Canvas>
  <Story
    height="15rem"
    name="SecondaryMedium"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'secondary',
      title: 'Label',
      id: 'secondary-medium-dropdown',
      items: dropdownItems,
      size: 'md',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="SecondaryMediumDisabled"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'secondary',
      title: 'Label',
      id: 'secondary-medium-disabled-dropdown',
      items: dropdownItems,
      size: 'md',
      disabled: true,
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

#### Tertiary
##### Small size
<Canvas>
  <Story
    height="15rem"
    name="TertiarySmall"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'tertiary',
      title: 'Label',
      id: 'tertiary-small-dropdown',
      items: dropdownItems,
      size: 'sm',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="TertiarySmallDisabled"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'tertiary',
      title: 'Label',
      id: 'tertiary-small-disabled-dropdown',
      items: dropdownItems,
      size: 'sm',
      disabled: true,
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

##### Medium size
<Canvas>
  <Story
    height="15rem"
    name="TertiaryMedium"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'tertiary',
      title: 'Label',
      id: 'tertiary-medium-dropdown',
      items: dropdownItems,
      size: 'md',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="TertiaryMediumDisabled"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'tertiary',
      title: 'Label',
      id: 'tertiary-medium-disabled-dropdown',
      items: dropdownItems,
      size: 'md',
      disabled: true,
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>


#### With icon
##### Default icon
If ```buttonStyle``` is ```icon``` , the 'more_vert' icon use for that.
<Canvas>
  <Story
    height="15rem"
    name="SecondaryDefaultIcon"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'secondary',
      id: 'secondary-default-icon-dropdown-sm',
      items: dropdownItems,
      size: 'sm',
      buttonStyle: 'icon',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="TertiaryDefaultIcon"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'tertiary',
      id: 'tertiary-default-icon-dropdown-sm',
      items: dropdownItems,
      size: 'sm',
      buttonStyle: 'icon',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

Disabled
<Canvas>
  <Story
    height="15rem"
    name="SecondaryDefaultDisabledIcon"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'secondary',
      id: 'secondary-default-icon-dropdown-sm',
      items: dropdownItems,
      size: 'sm',
      buttonStyle: 'icon',
      disabled: true,
    }}>
    {DropdownTemplate.bind({})}
  </Story>
  <Story
    height="15rem"
    name="TertiaryDefaultDisabledIcon"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'tertiary',
      id: 'tertiary-default-icon-dropdown-sm',
      items: dropdownItems,
      size: 'sm',
      buttonStyle: 'icon',
      disabled: true,
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>

export const MenuPosition = () => (
  <div style={{display: 'flex', justifyContent: 'space-between'}}>
    <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'space-between', height: '16rem'}}>
      <Dropdown title="Label" items={dropdownItems}/>
      <Dropdown title="Label" items={dropdownItems}/>
    </div>
    <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'space-between', height: '16rem'}}>
      <Dropdown title="Label" items={dropdownItems}/>
      <Dropdown title="Label" items={dropdownItems}/>
    </div>
  </div>
)


### Menu position
<Canvas>
  <Story name="MenuPosition">{MenuPosition.bind({})}</Story>
</Canvas>

### Menu dividers
Separate groups of related menu items with a divider.
<Canvas>
  <Story
    height="18.5rem"
    name="WithDivider"
    decorators={[
      (Story) => (
        <div style={{ width: '15rem', display: 'flex' }}>
          <Story />
        </div>
      ),
    ]}
    args={{
      variant: 'primary',
      title: 'Label',
      id: 'with-divider-dropdown',
      items: dropdownItemsWithDivider,
      size: 'md',
    }}>
    {DropdownTemplate.bind({})}
  </Story>
</Canvas>
